<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>三年级数学练习</title>
<!-- MathJax CDN -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
body {
  font-family: "Comic Neue", sans-serif;
  font-size: 14px;
  background: url('https://d1csarkz8obe9u.cloudfront.net/posterpreviews/powerpoint-math-for-kids-background-design-template-9c7101e6f62f51589b70148f650f4f6e_screen.jpg?ts=1737411341') no-repeat center center fixed;
  background-size: cover;
  padding: 20px;
  color: #000;
}
h1 {
  font-size: 2rem;
  text-align: center;
  margin-bottom: 20px;
}
#q-index {
  font-size: 1.2rem;
  margin-bottom: 12px;
}
#question {
  font-size: 1.6rem;
  margin-bottom: 20px;
}
.opt {
  font-size: 1.5rem;
  padding: 12px 18px;
  margin-bottom: 14px;
  border-radius: 12px;
  border: 2px solid #d0d0d0;
  background: rgba(255,255,255,0.9);
  cursor: pointer;
}
.opt.correct { background: rgba(90, 220, 100,0.9); border-color: #56d56c; }
.opt.wrong { background: rgba(255, 200, 200,0.9); border-color: #ff7b7b; }
#nextBtn {
  font-size: 1.4rem;
  padding: 12px 24px;
  background: #7dbbff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  margin-top: 18px;
}
#restart {
  font-size: 1.1rem;
  padding: 6px 14px;
  margin-left: 10px;
}
.score {
  font-size: 1.3rem;
  margin-top: 12px;
}
</style>
</head>
<body>
<h1>三年级数学练习</h1>
<div id="q-index">第 <span id="cur">1</span> / <span id="total">0</span> 题</div>
<div id="question"></div>
<div id="options"></div>
<div class="controls">
  <div class="score" id="score">得分：0</div>
  <button id="nextBtn" disabled>下一题</button>
  <button id="restart">重做</button>
</div>

<script>
// ====== 题库 ======
const rawData = `
1,这里的数目是 “四千零五”。请问数字写法是： A. 405 B. 4005 C. 4050 D. 4500,B
2,在数目 3 582 中，数字 5 的数位 (Place Value) 是什么？ A. 个位 B. 十位 C. 百位 D. 千位,C
3,哪个数目的百位近似值是 2 000？ A. 1 920 B. 1 955 C. 2 055 D. 2 100,C
4,2 145 + 3 620 = A. 5 765 B. 5 785 C. 5 865 D. 6 765,C
5,8 000 - 3 456 = A. 4 544 B. 4 644 C. 5 456 D. 5 544,A
6,245 x 4 = A. 860 B. 880 C. 960 D. 980,C
7,72 / 8 = A. 7 B. 8 C. 9 D. 10,C
8,560 / 10 = A. 56 B. 50 C. 6 D. 5,A
9,哪项分数的数值最小？ A. 1/2 B. 1/4 C. 1/8 D. 1/10,D
10,3/7 + 2/7 = A. 5/14 B. 5/7 C. 6/7 D. 1/7,B
11,7/9 - 4/9 = A. 2/9 B. 3/9 (或 1/3) C. 3/0 D. 11/9,B
12,0.5 + 0.3 = A. 0.2 B. 0.8 C. 0.53 D. 8.0,B
13,把 35% 写成小数。 A. 0.35 B. 3.5 C. 35.0 D. 0.035,A
14,图中涂黑部分占全图的 45/100。请问百分比是多少？ A. 4% B. 5% C. 45% D. 55%,C
15,RM 50.00 - RM 13.50 = A. RM 36.50 B. RM 37.50 C. RM 43.50 D. RM 47.50,A
16,RM 125 x 3 = A. RM 325 B. RM 350 C. RM 375 D. RM 475,C
17,3 张 RM 50 和 2 张 RM 20 共有多少钱？ A. RM 70 B. RM 170 C. RM 190 D. RM 210,C
18,现在是 3:00 p.m.。30 分钟后的时刻是： A. 3:30 p.m. B. 4:00 p.m. C. 4:30 p.m. D. 2:30 p.m.,A
19,1 小时等于多少分钟？ A. 10 B. 24 C. 60 D. 100,C
20,3 分钟等于多少秒？ A. 120 秒 B. 160 秒 C. 180 秒 D. 300 秒,C
21,一年有多少个月？ A. 10 B. 12 C. 24 D. 365,B
22,2 m 45 cm 等于多少 cm？ A. 245 cm B. 2045 cm C. 2450 cm D. 20045 cm,A
23,1 kg 等于多少 g？ A. 10 g B. 100 g C. 500 g D. 1 000 g,D
24,3 kg 500 g + 2 kg 200 g = A. 5 kg 300 g B. 5 kg 700 g C. 6 kg 700 g D. 1 kg 300 g,B
25,1 升 (L) 等于多少毫升 (ml)？ A. 10 ml B. 100 ml C. 1 000 ml D. 10 000 ml,C
26,500 ml + 850 ml = A. 1 L 350 ml B. 1 L 500 ml C. 135 ml D. 1350 L,A
27,正方体 (Cube) 有几个平面？ A. 4 B. 6 C. 8 D. 12,B
28,下列哪种立体图形有曲面？ A. 正方体 B. 长方体 C. 圆柱体 D. 正棱锥体,C
29,在象形统计图中，一个笑脸符号代表 5 个人。如果有 4 个笑脸符号，代表多少人？ A. 4 B. 9 C. 20 D. 45,C
30,如果饼分图被分成 4 个相等的部分，每部分代表多少百分比？ A. 10% B. 25% C. 50% D. 100%,B
`;

// ====== 解析 CSV ======
const data = rawData.trim().split("\n").map(line=>{
  const parts = line.split(",");
  const answer = parts.pop().trim().toUpperCase();
  const qid = parts.shift();
  const full = parts.join(",").trim();
  const optStart = full.indexOf("A.");
  const qtext = full.slice(0, optStart).trim();
  const optRaw = full.slice(optStart);
  const optParts = optRaw.split(/\s(?=[A-D]\.\s)/).map(s=>s.trim());
  const opts = optParts.map(op => op.replace(/^[A-D]\.\s*/, ""));
  while (opts.length < 4) opts.push("(缺失)");
  return { q: qtext, options: opts, answer: {A:0,B:1,C:2,D:3}[answer] };
});

// ====== 显示题目 ======
let current=0, score=0, answered=false;
document.getElementById('total').textContent = data.length;

function loadQuestion(){
  answered=false;
  document.getElementById('nextBtn').disabled = true;
  const q = data[current];
  document.getElementById('question').innerHTML = q.q;
  document.getElementById('cur').textContent = current+1;
  const optsDiv = document.getElementById('options');
  optsDiv.innerHTML = '';
  q.options.forEach((opt,i)=>{
    const div = document.createElement('div');
    div.className='opt';
    div.innerHTML = opt;
    div.addEventListener('click',()=>selectOption(div,i));
    optsDiv.appendChild(div);
  });
  MathJax.typesetPromise();
}

function selectOption(el,index){
  if(answered) return;
  answered=true;
  const q = data[current];
  const all = document.querySelectorAll('.opt');
  all.forEach((d,i)=>{ if(i===q.answer) d.classList.add('correct'); });
  if(index!==q.answer) el.classList.add('wrong'); else score++;
  document.getElementById('score').textContent='得分：'+score;
  document.getElementById('nextBtn').disabled=false;
}

document.getElementById('nextBtn').addEventListener('click',()=>{
  current++;
  if(current>=data.length){
    alert('测验结束！ 总得分：' + score);
    return;
  }
  loadQuestion();
});
document.getElementById('restart').addEventListener('click',()=>{
  if(confirm('确定重做测验吗？')){
    current=0;
    score=0;
    document.getElementById('score').textContent='得分：0';
    loadQuestion();
  }
});

loadQuestion();
</script>
</body>
</html>
